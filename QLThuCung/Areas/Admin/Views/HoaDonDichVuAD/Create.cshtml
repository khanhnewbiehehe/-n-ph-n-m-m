@model QLThuCung.Models.HoaDonDichVu

<div class="container">
    <div class="d-flex justify-content-center align-items-center">
        <div class="card shadow m-5 booking-card">
            <form asp-action="Create" asp-area="Admin" asp-controller="HoaDonDichVuAD">
                <div class="card-header">
                    <p class="title m-0">TẠO HÓA ĐƠN DỊCH VỤ</p>
                </div>
                <div class="card-body">
                    <div class="row mb-3">
                        <div>
                            <strong> Số điện thoại</strong>
                        </div>
                        <div class="col-md-6">
                            <input type="text" id="khachHangSearch" class="form-control" placeholder="Nhập số điện thoại khách hàng (ví dụ: 0123456789)" />
                        </div>
                        <div class="d-flex col-md-6">
                            <select asp-for="NguoiTao" id="khachHangSelect" class="form-control" required>
                                <option value="">Chọn khách hàng</option>
                            </select>
                            <span asp-validation-for="NguoiTao" class="text-danger"></span>
                            <a href="#" class="btn btn-success ms-2" disabled>
                                <svg xmlns="http://www.w3.org/2000/svg" fill="white" width="16px" class="m-0 p-0" viewBox="0 0 448 512">
                                    <path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z" />
                                </svg>
                            </a>
                        </div>
                        
                    </div>

                    <!-- Phần chọn thú cưng -->
                    <label asp-for="IdThuCung" class="mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="#3c57d2" width="16px" class="me-1" viewBox="0 0 512 512">
                            <path d="M226.5 92.9c14.3 42.9-.3 86.2-32.6 96.8s-70.1-15.6-84.4-58.5s.3-86.2 32.6-96.8s70.1 15.6 84.4 58.5zM100.4 198.6c18.9 32.4 14.3 70.1-10.2 84.1s-59.7-.9-78.5-33.3S-2.7 179.3 21.8 165.3s59.7 .9 78.5 33.3zM69.2 401.2C121.6 259.9 214.7 224 256 224s134.4 35.9 186.8 177.2c3.6 9.7 5.2 20.1 5.2 30.5l0 1.6c0 25.8-20.9 46.7-46.7 46.7c-11.5 0-22.9-1.4-34-4.2l-88-22c-15.3-3.8-31.3-3.8-46.6 0l-88 22c-11.1 2.8-22.5 4.2-34 4.2C84.9 480 64 459.1 64 433.3l0-1.6c0-10.4 1.6-20.8 5.2-30.5zM421.8 282.7c-24.5-14-29.1-51.7-10.2-84.1s54-47.3 78.5-33.3s29.1 51.7 10.2 84.1s-54 47.3-78.5 33.3zM310.1 189.7c-32.3-10.6-46.9-53.9-32.6-96.8s52.1-69.1 84.4-58.5s46.9 53.9 32.6 96.8s-52.1 69.1-84.4 58.5z" />
                        </svg>
                        <strong>Thú cưng</strong>
                    </label>
                    <div class="d-flex justify-content-between align-items-center">
                        <select asp-for="IdThuCung" id="ComboBoxThuCung" class="form-control me-2" required>
                            <option value="">Chọn thú cưng</option>
                        </select>
                        <span asp-validation-for="IdThuCung" class="text-danger"></span>
                        <a href="#" class="btn btn-success ms-2" disabled>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="white" width="16px" class="m-0 p-0" viewBox="0 0 448 512">
                                <path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z" />
                            </svg>
                        </a>
                    </div>

                    <!-- Phần chọn dịch vụ -->
                    <div class="mt-3">
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="#3c57d2" width="16px" class="me-1" viewBox="0 0 512 512">
                                <path d="M16 232l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24l48 0c13.3 0 24-10.7 24-24l0-48c0-13.3-10.7-24-24-24l-48 0zM64 32C28.7 32 0 60.7 0 96l0 32 576 0 0-32c0-35.3-28.7-64-64-64L64 32zM576 224L0 224 0 416c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-192zM112 352l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm112 16c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0z" />
                            </svg>
                            <strong>Dịch vụ</strong>
                        </div>
                        <div id="ListCheckBoxDichVu" class="mt-2">
                        </div>
                        <p class="mt-3" id="EstimateTime"></p>
                        <span id="dichVuValidation" class="text-danger"></span>
                    </div>

                    <!-- Phần ngày hẹn -->
                    <div>
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="#3c57d2" width="16px" class="me-1" viewBox="0 0 448 512">
                                <path d="M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm80 64c-8.8 0-16 7.2-16 16l0 64c0 8.8 7.2 16 16 16l288 0c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-288 0z" />
                            </svg>
                            <strong>Ngày hẹn</strong>
                        </div>
                        <div class="d-flex mt-2">
                            <div class="w-50 me-2">
                                <input asp-for="NgayChamSoc" id="NgayChamSoc" type="date" class="form-control" required />
                                <span asp-validation-for="NgayChamSoc" class="text-danger"></span>
                            </div>
                            <div class="w-50 ms-2">
                                <select asp-for="ThoiGianChamSoc" id="ThoiGianChamSoc" class="form-control" required>
                                    <option value="">Chọn giờ đến</option>
                                    <option value="420">7:00</option>
                                    <option value="450">7:30</option>
                                    <option value="480">8:00</option>
                                    <option value="510">8:30</option>
                                    <option value="540">9:00</option>
                                    <option value="570">9:30</option>
                                    <option value="600">10:00</option>
                                    <option value="780">13:00</option>
                                    <option value="810">13:30</option>
                                    <option value="840">14:00</option>
                                    <option value="870">14:30</option>
                                    <option value="900">15:00</option>
                                    <option value="930">15:30</option>
                                    <option value="960">16:00</option>
                                </select>
                                <span asp-validation-for="ThoiGianChamSoc" class="text-danger"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Phần phương thức thanh toán -->
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="#3c57d2" width="16px" class="me-1" viewBox="0 0 576 512">
                            <path d="M64 32C28.7 32 0 60.7 0 96l0 32 576 0 0-32c0-35.3-28.7-64-64-64L64 32zM576 224L0 224 0 416c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-192zM112 352l64 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-64 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm112 16c0-8.8 7.2-16 16-16l128 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-128 0c-8.8 0-16-7.2-16-16z" />
                        </svg>
                        <label asp-for="PhuongThucThanhToan" class="mb-2 mt-3"><strong>Phương thức thanh toán</strong></label>
                    </div>
                    <select asp-for="PhuongThucThanhToan" class="form-control" required>
                        <option value="0">Trả sau</option>
                        <option value="1">VNPAY</option>
                    </select>
                    <span asp-validation-for="PhuongThucThanhToan" class="text-danger"></span>

                    <!-- Phần tổng tiền -->
                    <div class="mt-3">
                        <div>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="#3c57d2" width="16px" class="me-1" viewBox="0 0 512 512">
                                <path d="M512 80c0 18-14.3 34.6-38.4 48c-29.1 16.1-72.5 27.5-122.3 30.9c-3.7-1.8-7.4-3.5-11.3-5C300.6 137.4 248.2 128 192 128c-8.3 0-16.4 .2-24.5 .6l-1.1-.6C142.3 114.6 128 98 128 80c0-44.2 86-80 192-80S512 35.8 512 80zM160.7 161.1c10.2-.7 20.7-1.1 31.3-1.1c62.2 0 117.4 12.3 152.5 31.4C369.3 204.9 384 221.7 384 240c0 4-.7 7.9-2.1 11.7c-4.6 13.2-17 25.3-35 35.5c0 0 0 0 0 0c-.1 .1-.3 .1-.4 .2c0 0 0 0 0 0s0 0 0 0c-.3 .2-.6 .3-.9 .5c-35 19.4-90.8 32-153.6 32c-59.6 0-112.9-11.3-148.2-29.1c-1.9-.9-3.7-1.9-5.5-2.9C14.3 274.6 0 258 0 240c0-34.8 53.4-64.5 128-75.4c10.5-1.5 21.4-2.7 32.7-3.5zM416 240c0-21.9-10.6-39.9-24.1-53.4c28.3-4.4 54.2-11.4 76.2-20.5c16.3-6.8 31.5-15.2 43.9-25.5l0 35.4c0 19.3-16.5 37.1-43.8 50.9c-14.6 7.4-32.4 13.7-52.4 18.5c.1-1.8 .2-3.5 .2-5.3zm-32 96c0 18-14.3 34.6-38.4 48c-1.8 1-3.6 1.9-5.5 2.9C304.9 404.7 251.6 416 192 416c-62.8 0-118.6-12.6-153.6-32C14.3 370.6 0 354 0 336l0-35.4c12.5 10.3 27.6 18.7 43.9 25.5C83.4 342.6 135.8 352 192 352s108.6-9.4 148.1-25.9c7.8-3.2 15.3-6.9 22.4-10.9c6.1-3.4 11.8-7.2 17.2-11.2c1.5-1.1 2.9-2.3 4.3-3.4l0 3.4 0 5.7 0 26.3zm32 0l0-32 0-25.9c19-4.2 36.5-9.5 52.1-16c16.3-6.8 31.5-15.2 43.9-25.5l0 35.4c0 10.5-5 21-14.9 30.9c-16.3 16.3-45 29.7-81.3 38.4c.1-1.7 .2-3.5 .2-5.3zM192 448c56.2 0 108.6-9.4 148.1-25.9c16.3-6.8 31.5-15.2 43.9-25.5l0 35.4c0 44.2-86 80-192 80S0 476.2 0 432l0-35.4c12.5 10.3 27.6 18.7 43.9 25.5C83.4 438.6 135.8 448 192 448z" />
                            </svg>
                            <strong>Tổng tiền: </strong>
                        </div>
                        <p id="TotalPrice"></p>
                    </div>
                    <div id="listDichVuInput">
                    </div>
                </div>
                <div class="card-footer">
                    <button type="submit" class="btn btn-primary w-100">Tạo hóa đơn</button>
                </div>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.5/jquery.validate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.12/jquery.validate.unobtrusive.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script src="~/LoadData/LoadCBKhachHangAD.js"></script>
    <script src="~/LoadData/LoadCBThuCungAD.js"></script>
    <script src="~/LoadData/LoadThoiGianBanAD.js"></script>
    <script src="~/LoadData/LoadCBDichVu2.js"></script>
}